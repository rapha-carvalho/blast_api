services:
  api:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: ga4-inspector-api-local
    ports:
      - "3001:3001"
    environment:
      PORT: 3001
      NODE_ENV: production
      MAX_BODY_MB: 5
      RATE_LIMIT_MAX: 20
      RATE_LIMIT_WINDOW_MS: 60000
      ENABLE_DB: "true"
      DB_PATH: /app/data/ga4-inspector.db
      ALLOWED_ORIGINS: https://blastgroup.org
      ALLOW_CHROME_EXTENSION_ORIGINS: "true"
      LOGO_PATH: /app/blast-logo.png
    volumes:
      - ./data:/app/data
    restart: unless-stopped
